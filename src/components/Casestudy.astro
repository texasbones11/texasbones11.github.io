---
// Import required components and types from Astro
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import type { string } from "astro:schema";

/**
 * Case Study Component Props
 * Defines the content structure for case study pages
 * Includes fields for:
 * - Hero section content
 * - Challenge/solution breakdown
 * - Architecture diagram
 * - Supporting details
 */
export interface Props {
  casepicUrl: ImageMetadata;
  name: string;
  tagline: string;
  description: string;
  challenge: string;
  solution: string;
  challengepart1: string;
  solutionpart1: string;
  challengepart2: string;
  solutionpart2: string;
  challengepart3: string;
}

// Destructure props for cleaner template usage
const {
  casepicUrl,
  name,
  tagline,
  description,
  challenge,
  solution,
  challengepart1,
  solutionpart1,
  challengepart2,
  solutionpart2,
  challengepart3,
} = Astro.props;
---

<!-- 
  Back Navigation
  Provides consistent return-to-home functionality
  Styled as prominent button for easy access
-->
<div class="back-button-container">
  <a href="/" class="back-button">‚Üê Back to Main Page</a>
</div>

<!-- 
  Case Study Hero Section
  Introduces the case study with title and tagline
  Features gradient background for visual distinction
-->
<section class="page-hero">
  <h1 class="page-title">{name}</h1>
  <p class="page-description">{tagline}</p>
</section>

<!-- 
  Main Content Section
  Contains the detailed case study content in structured sections
  Responsive container maintains optimal line length
-->
<section class="page-content">
  <div class="content-container">
    <!-- Overview Section -->
    <h2>Overview</h2>
    <p>{description}</p>

    <!-- Architecture Diagram Section -->
    <div class="diagram-container">
      <Image
        src={casepicUrl}
        alt={tagline}
        class="architecture-diagram"
        loading={"eager"}
      />
    </div>

    <!-- Challenge Section -->
    <h2>{challenge}</h2>
    <ul>
      <li>{challengepart1}</li>
      <li>{challengepart2}</li>
      <li>{challengepart3}</li>
    </ul>

    <!-- Solution Section -->
    <h2>{solution}</h2>
    <p>{solutionpart1}</p>
    <p>{solutionpart2}</p>
  </div>
</section>

<style>
  /* 
    Back Button Container
    Provides visual separation from hero section
    Light background makes button stand out
  */
  .back-button-container {
    background: #e8f0f7;
  }

  /* 
    Back Button Styles
    Designed for clear visibility and interaction
    Uses color transition for hover feedback
  */
  .back-button {
    display: inline-block;
    margin: 1rem;
    padding: 0.5rem 1rem;
    background: #1e3c72;
    color: white;
    border-radius: 4px;
    text-decoration: none;
    font-size: 1rem;
    transition: background 0.3s ease;
    font-family: "Inter", sans-serif;
  }

  .back-button:hover {
    background: #152a4d;
  }

  /* 
    Hero Section Styles
    Full-height introduction with gradient background
    Typography establishes visual hierarchy
  */
  .page-hero {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    height: 30vh;
    padding: 2rem;
    background: linear-gradient(
      to bottom,
      #e8f0f7 0%,
      #e8f0f7 50%,
      #f9f9f9 90%,
      #f9f9f9 100%
    );
    color: #2e2e2e;
  }

  .page-title {
    font-size: 3rem;
    font-weight: bold;
    margin: 0;
    line-height: 1.1;
    font-family: "Inter", sans-serif;
  }

  .page-description {
    font-size: 1.25rem;
    margin-top: 1rem;
    font-family: "Lato", sans-serif;
  }

  /* 
    Main Content Area
    Light background for readability
    Constrained width for optimal line length
  */
  .page-content {
    padding: 2rem;
    background: #f9f9f9;
  }

  .content-container {
    max-width: 800px;
    margin: 0 auto;
  }

  /* 
    Content Typography
    Clear heading hierarchy with consistent spacing
    Body text optimized for readability
  */
  .content-container h2 {
    font-size: 2rem;
    font-weight: bold;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-family: "Inter", sans-serif;
  }

  .content-container p {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    font-family: "Lato", sans-serif;
  }

  .content-container ul {
    margin-bottom: 1.5rem;
    padding-left: 1.5rem;
  }

  .content-container li {
    margin-bottom: 0.5rem;
  }

  /* 
    Diagram Container
    Centered presentation with caption support
    Subtle border defines image boundary
  */
  .diagram-container {
    margin: 2rem 0;
    text-align: center;
  }

  .architecture-diagram {
    max-width: 100%;
    height: auto;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
  }

  .diagram-caption {
    font-size: 0.9rem;
    color: #666;
    margin-top: 0.5rem;
  }

  /* 
    Tablet Responsive Adjustments
    Scales typography for medium screens
  */
  @media (max-width: 768px) {
    .page-title {
      font-size: 2.5rem;
    }

    .page-description {
      font-size: 1.1rem;
    }

    .content-container h2 {
      font-size: 1.75rem;
    }

    .content-container p {
      font-size: 1rem;
    }
  }

  /* 
    Mobile Responsive Adjustments
    Further scales typography for small screens
  */
  @media (max-width: 480px) {
    .page-title {
      font-size: 2rem;
    }

    .page-description {
      font-size: 1rem;
    }

    .content-container h2 {
      font-size: 1.5rem;
    }

    .content-container p {
      font-size: 0.9rem;
    }
  }
</style>
